{"version":3,"file":"index-82QMdBWK.js","sources":["../../../app/administration/src/app/component/swag-paypal-setting/swag-paypal-setting.html.twig","../../../app/administration/src/types/system-config.ts","../../../app/administration/src/app/component/swag-paypal-setting/index.ts"],"sourcesContent":["<sw-inherit-wrapper\n    v-bind=\"wrapperAttrs\"\n    class=\"swag-paypal-setting\"\n    :class=\"wrapperClasses\"\n    :value=\"value\"\n    :inherited-value=\"inheritedValue\"\n    :custom-inheritation-check-function=\"customInheritationCheckFunction\"\n    :has-parent=\"hasParent\"\n    @update:value=\"setValue\"\n>\n    <template #content=\"props\">\n        <slot\n            name=\"content\"\n            v-bind=\"{\n                ...props,\n                disabled: props.isInherited || disabled,\n                path: path,\n            }\"\n        >\n            <mt-switch\n                v-if=\"type === 'boolean'\"\n                v-bind=\"formAttrs\"\n                :name=\"path\"\n                :disabled=\"props.isInherited || disabled\"\n                :model-value=\"props.currentValue\"\n                @update:model-value=\"props.updateCurrentValue\"\n            />\n\n            <sw-single-select\n                v-else-if=\"type === 'string' && formAttrs.hasOwnProperty('options')\"\n                v-bind=\"formAttrs\"\n                :name=\"path\"\n                :disabled=\"props.isInherited || disabled\"\n                :value=\"props.currentValue ?? null\"\n                @update:value=\"props.updateCurrentValue\"\n            >\n                <template v-if=\"attrs.hasOwnProperty('hintText')\" #hint>\n                    {{ attrs.hintText }}\n                </template>\n            </sw-single-select>\n\n            <mt-password-field\n                v-else-if=\"type === 'password'\"\n                v-bind=\"formAttrs\"\n                :name=\"path\"\n                :disabled=\"props.isInherited || disabled\"\n                :model-value=\"props.currentValue\"\n                @update:model-value=\"props.updateCurrentValue\"\n            >\n                <template v-if=\"attrs.hasOwnProperty('hintText')\" #hint>\n                    {{ attrs.hintText }}\n                </template>\n            </mt-password-field>\n\n            <mt-text-field\n                v-else-if=\"type === 'string'\"\n                v-bind=\"formAttrs\"\n                :name=\"path\"\n                :disabled=\"props.isInherited || disabled\"\n                :model-value=\"props.currentValue\"\n                @update:model-value=\"props.updateCurrentValue\"\n            >\n                <template v-if=\"attrs.hasOwnProperty('hintText')\" #hint>\n                    {{ attrs.hintText }}\n                </template>\n            </mt-text-field>\n        </slot>\n    </template>\n</sw-inherit-wrapper>\n","import type { SYSTEM_CONFIG, LANDING_PAGES, BUTTON_COLORS, BUTTON_SHAPES, INTENTS, COUNTRY_OVERRIDES } from 'SwagPayPal/constant/swag-paypal-settings.constant';\n\n// @todo - Keys should be from SYSTEM_CONFIG\nexport declare type SystemConfig = {\n    'SwagPayPal.settings.clientId'?: string;\n    'SwagPayPal.settings.clientSecret'?: string;\n    'SwagPayPal.settings.clientIdSandbox'?: string;\n    'SwagPayPal.settings.clientSecretSandbox'?: string;\n    'SwagPayPal.settings.merchantPayerId'?: string;\n    'SwagPayPal.settings.merchantPayerIdSandbox'?: string;\n    'SwagPayPal.settings.sandbox'?: boolean;\n    'SwagPayPal.settings.intent'?: typeof INTENTS[number];\n    'SwagPayPal.settings.submitCart'?: boolean;\n    'SwagPayPal.settings.webhookId'?: string;\n    'SwagPayPal.settings.webhookExecuteToken'?: string;\n    'SwagPayPal.settings.brandName'?: string;\n    'SwagPayPal.settings.landingPage'?: typeof LANDING_PAGES[number];\n    'SwagPayPal.settings.sendOrderNumber'?: boolean;\n    'SwagPayPal.settings.orderNumberPrefix'?: string;\n    'SwagPayPal.settings.orderNumberSuffix'?: string;\n    'SwagPayPal.settings.ecsDetailEnabled'?: boolean;\n    'SwagPayPal.settings.ecsCartEnabled'?: boolean;\n    'SwagPayPal.settings.ecsOffCanvasEnabled'?: boolean;\n    'SwagPayPal.settings.ecsLoginEnabled'?: boolean;\n    'SwagPayPal.settings.ecsListingEnabled'?: boolean;\n    'SwagPayPal.settings.ecsButtonColor'?: typeof BUTTON_COLORS[number];\n    'SwagPayPal.settings.ecsButtonShape'?: typeof BUTTON_SHAPES[number];\n    'SwagPayPal.settings.ecsButtonLanguageIso'?: string | null;\n\n    'SwagPayPal.settings.ecsShowPayLater'?: boolean;\n    'SwagPayPal.settings.spbButtonColor'?: typeof BUTTON_COLORS[number];\n    'SwagPayPal.settings.spbButtonShape'?: typeof BUTTON_SHAPES[number];\n    'SwagPayPal.settings.spbButtonLanguageIso'?: string | null;\n    'SwagPayPal.settings.acdcForce3DS'?: boolean;\n    'SwagPayPal.settings.puiCustomerServiceInstructions'?: string;\n    'SwagPayPal.settings.installmentBannerDetailPageEnabled'?: boolean;\n    'SwagPayPal.settings.installmentBannerCartEnabled'?: boolean;\n    'SwagPayPal.settings.installmentBannerOffCanvasCartEnabled'?: boolean;\n    'SwagPayPal.settings.installmentBannerLoginPageEnabled'?: boolean;\n    'SwagPayPal.settings.installmentBannerFooterEnabled'?: boolean;\n    'SwagPayPal.settings.excludedProductIds'?: string[];\n    'SwagPayPal.settings.excludedProductStreamIds'?: string[];\n    'SwagPayPal.settings.spbShowPayLater'?: boolean;\n    'SwagPayPal.settings.spbCheckoutEnabled'?: boolean;\n    'SwagPayPal.settings.spbAlternativePaymentMethodsEnabled'?: boolean;\n    'SwagPayPal.settings.vaultingEnabled'?: boolean;\n    'SwagPayPal.settings.vaultingEnableAlways'?: boolean;\n    'SwagPayPal.settings.vaultingEnabledWallet'?: boolean;\n    'SwagPayPal.settings.vaultingEnabledACDC'?: boolean;\n    'SwagPayPal.settings.vaultingEnabledVenmo'?: boolean;\n\n    'SwagPayPal.settings.crossBorderMessagingEnabled'?: boolean;\n    'SwagPayPal.settings.crossBorderBuyerCountry'?: typeof COUNTRY_OVERRIDES[number] | null;\n\n    'SwagPayPal.settings.isLocalEnvironment'?: boolean;\n};\n\n/**\n * @private\n */\nexport const SystemConfigDefinition: Record<SYSTEM_CONFIG, 'string' | 'password' | 'boolean' | 'array'> = {\n    'SwagPayPal.settings.clientId': 'string',\n    'SwagPayPal.settings.clientSecret': 'password',\n    'SwagPayPal.settings.clientIdSandbox': 'string',\n    'SwagPayPal.settings.clientSecretSandbox': 'password',\n    'SwagPayPal.settings.merchantPayerId': 'string',\n    'SwagPayPal.settings.merchantPayerIdSandbox': 'string',\n    'SwagPayPal.settings.sandbox': 'boolean',\n    'SwagPayPal.settings.intent': 'string',\n    'SwagPayPal.settings.submitCart': 'boolean',\n    'SwagPayPal.settings.webhookId': 'string',\n    'SwagPayPal.settings.webhookExecuteToken': 'string',\n    'SwagPayPal.settings.brandName': 'string',\n    'SwagPayPal.settings.landingPage': 'string',\n    'SwagPayPal.settings.sendOrderNumber': 'boolean',\n    'SwagPayPal.settings.orderNumberPrefix': 'string',\n    'SwagPayPal.settings.orderNumberSuffix': 'string',\n    'SwagPayPal.settings.ecsDetailEnabled': 'boolean',\n    'SwagPayPal.settings.ecsCartEnabled': 'boolean',\n    'SwagPayPal.settings.ecsOffCanvasEnabled': 'boolean',\n    'SwagPayPal.settings.ecsLoginEnabled': 'boolean',\n    'SwagPayPal.settings.ecsListingEnabled': 'boolean',\n    'SwagPayPal.settings.ecsButtonColor': 'string',\n    'SwagPayPal.settings.ecsButtonShape': 'string',\n    'SwagPayPal.settings.ecsButtonLanguageIso': 'string',\n\n    'SwagPayPal.settings.ecsShowPayLater': 'boolean',\n    'SwagPayPal.settings.spbButtonColor': 'string',\n    'SwagPayPal.settings.spbButtonShape': 'string',\n    'SwagPayPal.settings.spbButtonLanguageIso': 'string',\n    'SwagPayPal.settings.acdcForce3DS': 'boolean',\n    'SwagPayPal.settings.puiCustomerServiceInstructions': 'string',\n    'SwagPayPal.settings.installmentBannerDetailPageEnabled': 'boolean',\n    'SwagPayPal.settings.installmentBannerCartEnabled': 'boolean',\n    'SwagPayPal.settings.installmentBannerOffCanvasCartEnabled': 'boolean',\n    'SwagPayPal.settings.installmentBannerLoginPageEnabled': 'boolean',\n    'SwagPayPal.settings.installmentBannerFooterEnabled': 'boolean',\n    'SwagPayPal.settings.excludedProductIds': 'array',\n    'SwagPayPal.settings.excludedProductStreamIds': 'array',\n    'SwagPayPal.settings.spbShowPayLater': 'boolean',\n    'SwagPayPal.settings.spbCheckoutEnabled': 'boolean',\n    'SwagPayPal.settings.spbAlternativePaymentMethodsEnabled': 'boolean',\n    'SwagPayPal.settings.vaultingEnabled': 'boolean',\n    'SwagPayPal.settings.vaultingEnableAlways': 'boolean',\n    'SwagPayPal.settings.vaultingEnabledWallet': 'boolean',\n    'SwagPayPal.settings.vaultingEnabledACDC': 'boolean',\n    'SwagPayPal.settings.vaultingEnabledVenmo': 'boolean',\n\n    'SwagPayPal.settings.crossBorderMessagingEnabled': 'boolean',\n    'SwagPayPal.settings.crossBorderBuyerCountry': 'string',\n\n    'SwagPayPal.settings.isLocalEnvironment': 'boolean',\n};\n","import type * as PayPal from 'SwagPayPal/types';\nimport template from './swag-paypal-setting.html.twig';\nimport './swag-paypal-setting.scss';\nimport { SystemConfigDefinition } from '../../../types/system-config';\nimport { type SYSTEM_CONFIG, SYSTEM_CONFIGS } from '../../../constant/swag-paypal-settings.constant';\n\nconst { string, object } = Shopware.Utils;\n\n/**\n * @private - The component has a stable public API (props), but expect that implementation details may change.\n */\nexport default Shopware.Component.wrapComponentConfig({\n    template,\n\n    inject: ['acl'],\n\n    emits: ['update:value'],\n\n    props: {\n        path: {\n            required: true,\n            type: String as PropType<SYSTEM_CONFIG>,\n            validation: (value: SYSTEM_CONFIG) => {\n                return SYSTEM_CONFIGS.includes(value);\n            },\n        },\n    },\n\n    computed: {\n        settingsStore() {\n            return Shopware.Store.get('swagPayPalSettings');\n        },\n\n        value() {\n            return this.settingsStore.getActual(this.path);\n        },\n\n        inheritedValue() {\n            return this.settingsStore.salesChannel\n                ? this.settingsStore.getRoot(this.path)\n                : undefined;\n        },\n\n        hasParent() {\n            return !!this.settingsStore.salesChannel;\n        },\n\n        pathDomainless() {\n            return this.path.replace('SwagPayPal.settings.', '');\n        },\n\n        disabled(): boolean {\n            return !this.acl.can('swag_paypal.editor')\n                || this.settingsStore.isLoading\n                || !!this.formAttrs.disabled;\n        },\n\n        type() {\n            return SystemConfigDefinition[this.path];\n        },\n\n        customInheritationCheckFunction() {\n            return (value: unknown) => value === null || value === undefined;\n        },\n\n        label() {\n            return this.tif(`swag-paypal-setting.label.${this.pathDomainless}`);\n        },\n\n        helpText() {\n            return this.tif(\n                `swag-paypal-setting.helpText.${this.pathDomainless}.${this.settingsStore.getActual(this.path)}`,\n                `swag-paypal-setting.helpText.${this.pathDomainless}`,\n            );\n        },\n\n        hintText() {\n            return this.tif(\n                `swag-paypal-setting.hintText.${this.pathDomainless}.${this.settingsStore.getActual(this.path)}`,\n                `swag-paypal-setting.hintText.${this.pathDomainless}`,\n            );\n        },\n\n        attrs() {\n            // normalize attribute keys to camelCase\n            const entries = Object.entries(this.$attrs).map(([key, value]) => [string.camelCase(key), value]);\n            const attrs = Object.fromEntries(entries) as Record<string, unknown>;\n\n            if (!attrs.hasOwnProperty('label') && this.label) {\n                attrs.label = this.label;\n            }\n\n            if (!attrs.hasOwnProperty('helpText') && this.helpText) {\n                attrs.helpText = this.helpText;\n            }\n\n            if (!attrs.hasOwnProperty('hintText') && this.hintText) {\n                attrs.hintText = this.hintText;\n            }\n\n            return attrs;\n        },\n\n        wrapperAttrs(): Record<string, unknown> {\n            return object.pick(this.attrs, [\n                'disabled',\n                'helpText',\n                'label',\n                'required',\n            ]);\n        },\n\n        formAttrs(): Record<string, unknown> {\n            return object.pick(this.attrs, [\n                'disabled',\n                'error',\n                'labelProperty',\n                'options',\n                'valueProperty',\n            ]);\n        },\n\n        wrapperClasses(): Record<string, boolean> {\n            return {\n                'is--bordered': this.type === 'boolean' && (this.attrs.bordered ?? true),\n                [`is--${this.type}`]: true,\n            };\n        },\n    },\n\n    methods: {\n        /**\n         * Translate if found, otherwise return null\n         */\n        tif(...keys: string[]): string | null {\n            // $te will also report partial matches as found\n            const key = keys.find((k) => this.$te(k) && this.$t(k) !== k);\n\n            return key ? this.$t(key) : null;\n        },\n\n        setValue(value: PayPal.SystemConfig[keyof PayPal.SystemConfig]) {\n            if (value !== this.value) {\n                this.settingsStore.set(this.path, value);\n                this.$emit('update:value', value);\n            }\n        },\n    },\n});\n"],"names":["template","SystemConfigDefinition","string","object","index","value","SYSTEM_CONFIGS","entries","key","attrs","keys","k"],"mappings":"gEAAA,MAAeA,EAAA,wkDC4DFC,EAA6F,CACtG,+BAAgC,SAChC,mCAAoC,WACpC,sCAAuC,SACvC,0CAA2C,WAC3C,sCAAuC,SACvC,6CAA8C,SAC9C,8BAA+B,UAC/B,6BAA8B,SAC9B,iCAAkC,UAClC,gCAAiC,SACjC,0CAA2C,SAC3C,gCAAiC,SACjC,kCAAmC,SACnC,sCAAuC,UACvC,wCAAyC,SACzC,wCAAyC,SACzC,uCAAwC,UACxC,qCAAsC,UACtC,0CAA2C,UAC3C,sCAAuC,UACvC,wCAAyC,UACzC,qCAAsC,SACtC,qCAAsC,SACtC,2CAA4C,SAE5C,sCAAuC,UACvC,qCAAsC,SACtC,qCAAsC,SACtC,2CAA4C,SAC5C,mCAAoC,UACpC,qDAAsD,SACtD,yDAA0D,UAC1D,mDAAoD,UACpD,4DAA6D,UAC7D,wDAAyD,UACzD,qDAAsD,UACtD,yCAA0C,QAC1C,+CAAgD,QAChD,sCAAuC,UACvC,yCAA0C,UAC1C,0DAA2D,UAC3D,sCAAuC,UACvC,2CAA4C,UAC5C,4CAA6C,UAC7C,0CAA2C,UAC3C,2CAA4C,UAE5C,kDAAmD,UACnD,8CAA+C,SAE/C,yCAA0C,SAC9C,EC1GM,CAAE,OAAAC,EAAQ,OAAAC,GAAW,SAAS,MAKpCC,EAAe,SAAS,UAAU,oBAAoB,CAClD,SAAAJ,EAEA,OAAQ,CAAC,KAAK,EAEd,MAAO,CAAC,cAAc,EAEtB,MAAO,CACH,KAAM,CACF,SAAU,GACV,KAAM,OACN,WAAaK,GACFC,EAAe,SAASD,CAAK,CACxC,CAER,EAEA,SAAU,CACN,eAAgB,CACL,OAAA,SAAS,MAAM,IAAI,oBAAoB,CAClD,EAEA,OAAQ,CACJ,OAAO,KAAK,cAAc,UAAU,KAAK,IAAI,CACjD,EAEA,gBAAiB,CACN,OAAA,KAAK,cAAc,aACpB,KAAK,cAAc,QAAQ,KAAK,IAAI,EACpC,MACV,EAEA,WAAY,CACD,MAAA,CAAC,CAAC,KAAK,cAAc,YAChC,EAEA,gBAAiB,CACb,OAAO,KAAK,KAAK,QAAQ,uBAAwB,EAAE,CACvD,EAEA,UAAoB,CAChB,MAAO,CAAC,KAAK,IAAI,IAAI,oBAAoB,GAClC,KAAK,cAAc,WACnB,CAAC,CAAC,KAAK,UAAU,QAC5B,EAEA,MAAO,CACI,OAAAJ,EAAuB,KAAK,IAAI,CAC3C,EAEA,iCAAkC,CAC9B,OAAQI,GAAmBA,GAAU,IACzC,EAEA,OAAQ,CACJ,OAAO,KAAK,IAAI,6BAA6B,KAAK,cAAc,EAAE,CACtE,EAEA,UAAW,CACP,OAAO,KAAK,IACR,gCAAgC,KAAK,cAAc,IAAI,KAAK,cAAc,UAAU,KAAK,IAAI,CAAC,GAC9F,gCAAgC,KAAK,cAAc,EACvD,CACJ,EAEA,UAAW,CACP,OAAO,KAAK,IACR,gCAAgC,KAAK,cAAc,IAAI,KAAK,cAAc,UAAU,KAAK,IAAI,CAAC,GAC9F,gCAAgC,KAAK,cAAc,EACvD,CACJ,EAEA,OAAQ,CAEJ,MAAME,EAAU,OAAO,QAAQ,KAAK,MAAM,EAAE,IAAI,CAAC,CAACC,EAAKH,CAAK,IAAM,CAACH,EAAO,UAAUM,CAAG,EAAGH,CAAK,CAAC,EAC1FI,EAAQ,OAAO,YAAYF,CAAO,EAExC,MAAI,CAACE,EAAM,eAAe,OAAO,GAAK,KAAK,QACvCA,EAAM,MAAQ,KAAK,OAGnB,CAACA,EAAM,eAAe,UAAU,GAAK,KAAK,WAC1CA,EAAM,SAAW,KAAK,UAGtB,CAACA,EAAM,eAAe,UAAU,GAAK,KAAK,WAC1CA,EAAM,SAAW,KAAK,UAGnBA,CACX,EAEA,cAAwC,CAC7B,OAAAN,EAAO,KAAK,KAAK,MAAO,CAC3B,WACA,WACA,QACA,UAAA,CACH,CACL,EAEA,WAAqC,CAC1B,OAAAA,EAAO,KAAK,KAAK,MAAO,CAC3B,WACA,QACA,gBACA,UACA,eAAA,CACH,CACL,EAEA,gBAA0C,CAC/B,MAAA,CACH,eAAgB,KAAK,OAAS,YAAc,KAAK,MAAM,UAAY,IACnE,CAAC,OAAO,KAAK,IAAI,EAAE,EAAG,EAC1B,CAAA,CAER,EAEA,QAAS,CAIL,OAAOO,EAA+B,CAElC,MAAMF,EAAME,EAAK,KAAMC,GAAM,KAAK,IAAIA,CAAC,GAAK,KAAK,GAAGA,CAAC,IAAMA,CAAC,EAE5D,OAAOH,EAAM,KAAK,GAAGA,CAAG,EAAI,IAChC,EAEA,SAASH,EAAuD,CACxDA,IAAU,KAAK,QACf,KAAK,cAAc,IAAI,KAAK,KAAMA,CAAK,EAClC,KAAA,MAAM,eAAgBA,CAAK,EACpC,CACJ,CAER,CAAC"}
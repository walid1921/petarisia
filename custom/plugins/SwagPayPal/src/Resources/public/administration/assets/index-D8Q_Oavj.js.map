{"version":3,"file":"index-D8Q_Oavj.js","sources":["../../../app/administration/src/module/swag-paypal-method/component/swag-paypal-payment-method/swag-paypal-payment-method.html.twig","../../../app/administration/src/module/swag-paypal-method/component/swag-paypal-payment-method/index.ts"],"sourcesContent":["<div class=\"swag-paypal-payment-method\">\n    <img\n        v-if=\"paymentMethod.media\"\n        class=\"swag-paypal-payment-method__icon\"\n        :src=\"paymentMethod.media.url\"\n        :alt=\"paymentMethod.media.translated.alt\"\n    >\n\n    <div class=\"swag-paypal-payment-method__name\">\n        {{ paymentMethod.translated.name }}\n        <span v-if=\"isPui\">\n            ({{ $t('swag-paypal-method.ratePayLabel') }})\n        </span>\n    </div>\n\n    <sw-skeleton-bar v-if=\"merchantInformationStore.isLoading\" />\n\n    <div v-else class=\"swag-paypal-payment-method__dynamic\">\n        <sw-help-text\n            v-if=\"availabilityToolTip\"\n            :text=\"availabilityToolTip\"\n        />\n\n        <sw-label\n            v-tooltip=\"{\n                message: onboardingStatusTooltip,\n                position: 'top',\n                disabled: !onboardingStatusTooltip,\n            }\"\n            class=\"swag-paypal-payment-method__status-label\"\n            size=\"medium\"\n            appearance=\"pill\"\n            :variant=\"statusBadgeVariant\"\n            :ghost=\"false\"\n            :caps=\"false\"\n        >\n            <sw-color-badge rounded :variant=\"statusBadgeVariant\" />\n\n            <span>{{ onboardingStatusText }}</span>\n        </sw-label>\n\n        <router-link\n            v-if=\"showEditLink\"\n            class=\"swag-paypal-payment-method__detail-link\"\n            :to=\"{ name: 'sw.settings.payment.detail', params: { id: paymentMethod.id } }\"\n        >\n            {{ $t('swag-paypal-method.editDetail') }}\n        </router-link>\n    </div>\n\n    <mt-switch\n        :label=\"$t('swag-paypal-method.switch.label')\"\n        :disabled=\"paymentMethodToggleDisabled || !acl.can('swag_paypal.editor')\"\n        :model-value=\"paymentMethod.active\"\n        @update:model-value=\"onUpdateActive\"\n    />\n\n    <swag-paypal-method-domain-association\n        v-if=\"identifier === 'applepayhandler'\"\n        :payment-method=\"paymentMethod\"\n    />\n</div>\n","import template from './swag-paypal-payment-method.html.twig';\nimport './swag-paypal-payment-method.scss';\n\nexport default Shopware.Component.wrapComponentConfig({\n    template,\n\n    inject: [\n        'acl',\n    ],\n\n    emits: ['update:active'],\n\n    props: {\n        paymentMethod: {\n            type: Object as PropType<TEntity<'payment_method'>>,\n            required: true,\n        },\n    },\n\n    computed: {\n        merchantInformationStore() {\n            return Shopware.Store.get('swagPayPalMerchantInformation');\n        },\n\n        onboardingStatus() {\n            return this.merchantInformationStore.capabilities[this.paymentMethod.id];\n        },\n\n        identifier(): string {\n            return this.paymentMethod.formattedHandlerIdentifier?.split('_').pop() ?? '';\n        },\n\n        isPui() {\n            return this.identifier === 'puihandler';\n        },\n\n        paymentMethodToggleDisabled() {\n            // should be able to deactivate active payment method\n            if (this.paymentMethod.active) {\n                return false;\n            }\n\n            return !this.showEditLink;\n        },\n\n        showEditLink() {\n            return ['active', 'limited', 'mybank', 'test'].includes(this.onboardingStatus);\n        },\n\n        statusBadgeVariant() {\n            switch (this.onboardingStatus) {\n                case 'active':\n                    return 'success';\n                case 'limited':\n                case 'mybank':\n                    return 'danger';\n                case 'inactive':\n                case 'ineligible':\n                    return 'neutral';\n                case 'test':\n                case 'pending':\n                    return 'info';\n                default:\n                    return 'neutral';\n            }\n        },\n\n        onboardingStatusText() {\n            return this.$t(`swag-paypal-method.onboardingStatusText.${this.onboardingStatus}`);\n        },\n\n        onboardingStatusTooltip() {\n            const snippetKey = `swag-paypal-method.onboardingStatusTooltip.${this.onboardingStatus}`;\n\n            if (!this.$te(snippetKey)) {\n                return null;\n            }\n\n            return this.$t(snippetKey);\n        },\n\n        availabilityToolTip() {\n            const snippetKey = `swag-paypal-method.availabilityToolTip.${this.identifier}`;\n\n            if (!this.$te(snippetKey)) {\n                return null;\n            }\n\n            return this.$t(snippetKey);\n        },\n    },\n\n    methods: {\n        onUpdateActive(active: boolean) {\n            // update:value is emitted twice\n            if (this.paymentMethod.active !== active) {\n                this.$emit('update:active', active);\n            }\n        },\n    },\n});\n"],"names":["template","index","_a","snippetKey","active"],"mappings":"AAAA,MAAeA,EAAA,y7CCGfC,EAAe,SAAS,UAAU,oBAAoB,CAClD,SAAAD,EAEA,OAAQ,CACJ,KACJ,EAEA,MAAO,CAAC,eAAe,EAEvB,MAAO,CACH,cAAe,CACX,KAAM,OACN,SAAU,EAAA,CAElB,EAEA,SAAU,CACN,0BAA2B,CAChB,OAAA,SAAS,MAAM,IAAI,+BAA+B,CAC7D,EAEA,kBAAmB,CACf,OAAO,KAAK,yBAAyB,aAAa,KAAK,cAAc,EAAE,CAC3E,EAEA,YAAqB,CD5B7B,IAAAE,EC6BY,QAAOA,EAAA,KAAK,cAAc,6BAAnB,YAAAA,EAA+C,MAAM,KAAK,QAAS,EAC9E,EAEA,OAAQ,CACJ,OAAO,KAAK,aAAe,YAC/B,EAEA,6BAA8B,CAEtB,OAAA,KAAK,cAAc,OACZ,GAGJ,CAAC,KAAK,YACjB,EAEA,cAAe,CACJ,MAAA,CAAC,SAAU,UAAW,SAAU,MAAM,EAAE,SAAS,KAAK,gBAAgB,CACjF,EAEA,oBAAqB,CACjB,OAAQ,KAAK,iBAAkB,CAC3B,IAAK,SACM,MAAA,UACX,IAAK,UACL,IAAK,SACM,MAAA,SACX,IAAK,WACL,IAAK,aACM,MAAA,UACX,IAAK,OACL,IAAK,UACM,MAAA,OACX,QACW,MAAA,SAAA,CAEnB,EAEA,sBAAuB,CACnB,OAAO,KAAK,GAAG,2CAA2C,KAAK,gBAAgB,EAAE,CACrF,EAEA,yBAA0B,CAChB,MAAAC,EAAa,8CAA8C,KAAK,gBAAgB,GAEtF,OAAK,KAAK,IAAIA,CAAU,EAIjB,KAAK,GAAGA,CAAU,EAHd,IAIf,EAEA,qBAAsB,CACZ,MAAAA,EAAa,0CAA0C,KAAK,UAAU,GAE5E,OAAK,KAAK,IAAIA,CAAU,EAIjB,KAAK,GAAGA,CAAU,EAHd,IAGc,CAEjC,EAEA,QAAS,CACL,eAAeC,EAAiB,CAExB,KAAK,cAAc,SAAWA,GACzB,KAAA,MAAM,gBAAiBA,CAAM,CACtC,CACJ,CAER,CAAC"}